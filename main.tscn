[gd_scene load_steps=17 format=3 uid="uid://r422wmaa0ybb"]

[ext_resource type="Script" uid="uid://ccohqjaqmhevs" path="res://main.gd" id="1_lquwl"]
[ext_resource type="PackedScene" uid="uid://clrab3y8cs2xd" path="res://sun.tscn" id="2_7mycd"]
[ext_resource type="Script" uid="uid://cb1n5qw4vfrei" path="res://main_scene.gd" id="2_w48qg"]
[ext_resource type="PackedScene" uid="uid://drxdawjii078y" path="res://main_map.tscn" id="3_1bvp3"]
[ext_resource type="PackedScene" uid="uid://cejg2nkyx6ymd" path="res://chest.tscn" id="3_h2yge"]
[ext_resource type="PackedScene" uid="uid://xgyqpnjuj0do" path="res://chest_common.tscn" id="6_7mycd"]
[ext_resource type="PackedScene" uid="uid://bl143fdly0nlm" path="res://forge.tscn" id="6_kek77"]
[ext_resource type="PackedScene" uid="uid://d0jkcc5daoav7" path="res://cave_enterance.tscn" id="7_272bh"]
[ext_resource type="PackedScene" uid="uid://ddomyk7qil1xt" path="res://resource.tscn" id="8_5vw27"]
[ext_resource type="PackedScene" uid="uid://c5rt8ff5prfdn" path="res://tree.tscn" id="9_kek77"]
[ext_resource type="PackedScene" uid="uid://b8glnff6edefg" path="res://blacksmith.tscn" id="10_4c57u"]
[ext_resource type="PackedScene" uid="uid://bj11l1shmt17m" path="res://world_enemy.tscn" id="10_ycdy4"]
[ext_resource type="Script" uid="uid://bwsfivl5y7esp" path="res://environment.gd" id="11_dg77c"]
[ext_resource type="PackedScene" uid="uid://ctlps1r44actj" path="res://rain.tscn" id="11_efxa6"]
[ext_resource type="PackedScene" uid="uid://bky8swe7uhf05" path="res://base_barracks.tscn" id="12_vivmo"]
[ext_resource type="PackedScene" uid="uid://b42ebxs57sd3p" path="res://archer_unit.tscn" id="13_2cqfq"]

[node name="main" type="Node"]
script = ExtResource("1_lquwl")

[node name="MainScene" type="Node2D" parent="."]
script = ExtResource("2_w48qg")

[node name="PlayerReturnPoint" type="Marker2D" parent="MainScene"]
position = Vector2(1098, -1378)

[node name="PlayerStartPoint" type="Marker2D" parent="MainScene"]
position = Vector2(-343, 378)

[node name="Map" parent="MainScene" instance=ExtResource("3_1bvp3")]

[node name="GameObjects" type="Node2D" parent="MainScene"]
z_index = 4
y_sort_enabled = true

[node name="Chest" parent="MainScene/GameObjects" groups=["chests"] instance=ExtResource("3_h2yge")]
z_as_relative = true
position = Vector2(-2.99998, -249)
scale = Vector2(0.7, 0.7)

[node name="ChestCommon" parent="MainScene/GameObjects" instance=ExtResource("6_7mycd")]
z_as_relative = true
position = Vector2(-193, -128)
scale = Vector2(0.7, 0.7)
chest_id = "chest_id_2"

[node name="Forge" parent="MainScene/GameObjects" instance=ExtResource("6_kek77")]
z_as_relative = true
position = Vector2(-1053, -297)
scale = Vector2(2, 2)

[node name="Blacksmith" parent="MainScene/GameObjects/Forge" instance=ExtResource("10_4c57u")]
z_index = 3
position = Vector2(199.5, 250.5)
scale = Vector2(0.5, 0.5)

[node name="CaveEnterance" parent="MainScene/GameObjects" instance=ExtResource("7_272bh")]
z_index = 2
position = Vector2(701, -1936)
rotation = -0.0610865
scale = Vector2(2.5, 2.5)

[node name="EnterDungeon" type="Area2D" parent="MainScene/GameObjects/CaveEnterance"]
position = Vector2(36.6568, 114.852)
rotation = 0.0610865
scale = Vector2(0.5, 0.5)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="MainScene/GameObjects/CaveEnterance/EnterDungeon"]
position = Vector2(-6, -33)
polygon = PackedVector2Array(-38, 49, 31, 15, 123, 64, 13, 125)

[node name="Tree" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(131, 841)

[node name="Tree2" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(2792, -456)

[node name="Tree3" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(2175, -1376)

[node name="Tree4" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(548, 299)

[node name="Tree5" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(-556, -557)

[node name="Tree6" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(2657, 1281)

[node name="Tree7" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(4047, 286)

[node name="Tree8" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(1604, 1025)

[node name="Tree9" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(-1233, 493)

[node name="Tree10" parent="MainScene/GameObjects" instance=ExtResource("9_kek77")]
position = Vector2(1874, -5.99988)

[node name="Iron_Ore" parent="MainScene/GameObjects" instance=ExtResource("8_5vw27")]
position = Vector2(-1552, 491)
scale = Vector2(2.1, 2.1)

[node name="Gold_Ore" parent="MainScene/GameObjects" instance=ExtResource("8_5vw27")]
position = Vector2(414, 1389)
scale = Vector2(2.1, 2.1)
resource_type = "gold_ore"

[node name="Coal_Ore" parent="MainScene/GameObjects" instance=ExtResource("8_5vw27")]
position = Vector2(2203, -376)
scale = Vector2(2.1, 2.1)
resource_type = "coal_ore"

[node name="Ruby_Ore" parent="MainScene/GameObjects" instance=ExtResource("8_5vw27")]
position = Vector2(1976, -1755)
scale = Vector2(2.1, 2.1)
resource_type = "ruby_ore"

[node name="WorldEnemy" parent="MainScene/GameObjects" instance=ExtResource("10_ycdy4")]
position = Vector2(2291, 111)

[node name="WorldEnemy2" parent="MainScene/GameObjects" instance=ExtResource("10_ycdy4")]
position = Vector2(2750, -207)
enemy_id = "enemy_id_2"

[node name="BaseBarracks" parent="MainScene/GameObjects" instance=ExtResource("12_vivmo")]
position = Vector2(1022, -521)
rotation = -0.139626
scale = Vector2(1.5, 1.5)
dir = "SW"

[node name="BaseBarracks2" parent="MainScene/GameObjects" instance=ExtResource("12_vivmo")]
position = Vector2(738, -668)
rotation = -0.139626
scale = Vector2(1.5, 1.5)
dir = "SW"
unit = ExtResource("13_2cqfq")

[node name="Sun" parent="MainScene" instance=ExtResource("2_7mycd")]
position = Vector2(636, 4)
skew = -0.0349066

[node name="Environment" type="CanvasLayer" parent="MainScene"]
script = ExtResource("11_dg77c")

[node name="Rain" parent="MainScene/Environment" instance=ExtResource("11_efxa6")]
z_index = 5
emitting = false

[connection signal="body_entered" from="MainScene/GameObjects/CaveEnterance/EnterDungeon" to="." method="_on_enter_dungeon_body_entered"]
